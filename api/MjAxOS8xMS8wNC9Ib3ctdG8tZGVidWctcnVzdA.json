{"title":"How to debug rust","date":"2019-11-04T04:58:31.000Z","date_formatted":{"ll":"Nov 4, 2019","L":"11/04/2019","MM-DD":"11-04"},"link":"2019/11/04/How-to-debug-rust","tags":["Rust"],"updated":"2021-01-30T07:14:12.065Z","content":"<h1 id=\"windows\">Windows<a title=\"#windows\" href=\"#windows\"></a></h1>\n<h2 id=\"install-msys2\">Install <code>msys2</code><a title=\"#install-msys2\" href=\"#install-msys2\"></a></h2>\n<p>Run <code>mingw64.exe</code></p>\n<ul>\n<li>\n<p>edit source</p>\n<p><code>msys64/etc/pacman.d/</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mirrorlist.mingw32</span><br><span class=\"line\">Server &#x3D; http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;msys2&#x2F;mingw&#x2F;i686</span><br><span class=\"line\"></span><br><span class=\"line\">mirrorlist.mingw64</span><br><span class=\"line\">Server &#x3D; http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;msys2&#x2F;mingw&#x2F;x86_64</span><br><span class=\"line\"></span><br><span class=\"line\">mirrorlist.msys</span><br><span class=\"line\">Server &#x3D; http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;msys2&#x2F;msys&#x2F;$arch</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>run command</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S --noconfirm base-devel mingw64-x86_64-toolchain git</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"add-cargo-config\">Add <code>cargo</code> config<a title=\"#add-cargo-config\" href=\"#add-cargo-config\"></a></h2>\n<p>edit <code>&#123;PATH&#125;/.cargo/config</code></p>\n<p>add this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[target.x86_64-pc-windows-gnu]</span><br><span class=\"line\">linker &#x3D; &quot;C:\\\\msys64\\\\mingw64\\\\bin\\\\gcc.exe&quot;</span><br><span class=\"line\">ar &#x3D; &quot;C:\\\\msys2\\\\mingw64\\\\bin\\\\ar.exe&quot;</span><br></pre></td></tr></table></figure>\n<h2 id=\"add-path-environmental-variable\">Add <code>PATH</code> environmental variable<a title=\"#add-path-environmental-variable\" href=\"#add-path-environmental-variable\"></a></h2>\n<p><code>C:\\msys64\\usr\\bin</code></p>\n<p><code>C:\\msys64\\mingw64\\bin</code></p>\n<h2 id=\"install-rust\">Install rust<a title=\"#install-rust\" href=\"#install-rust\"></a></h2>\n<p>use <code>stable-gnu</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rustup install stable-gnu</span><br><span class=\"line\">rustup default stable-gnu</span><br></pre></td></tr></table></figure>\n<h2 id=\"install-clion\">Install <code>CLion</code><a title=\"#install-clion\" href=\"#install-clion\"></a></h2>\n<ul>\n<li>\n<p>install <code>intellij-rust</code> and <code>toml</code> plugin</p>\n</li>\n<li>\n<p>set toolchain</p>\n<p><code>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Toolchains</code> add <code>mingw</code> toolchain</p>\n</li>\n</ul>\n<h1 id=\"macos\">macOS<a title=\"#macos\" href=\"#macos\"></a></h1>\n<p>Install <code>Command Line Tools</code> or <code>xcode</code>.</p>\n<p>Install <code>rust</code>, <code>clion</code> and <code>intellij-rust</code> plugin.</p>\n","prev":{"title":"Practical application of Cartesian product","link":"2020/08/17/Practical-application-of-Cartesian-product"},"next":{"title":"The Tiny Compiler","link":"2019/10/08/The-Tiny-Compiler"},"plink":"https://syaki.github.io/2019/11/04/How-to-debug-rust/","toc":[{"id":"windows","title":"Windows","index":"1","children":[{"id":"install-msys2","title":"Install msys2","index":"1.1"},{"id":"add-cargo-config","title":"Add cargo config","index":"1.2"},{"id":"add-path-environmental-variable","title":"Add PATH environmental variable","index":"1.3"},{"id":"install-rust","title":"Install rust","index":"1.4"},{"id":"install-clion","title":"Install CLion","index":"1.5"}]},{"id":"macos","title":"macOS","index":"2"}],"copyright":{"author":"Syaki","link":"<a href=\"https://syaki.github.io/2019/11/04/How-to-debug-rust/\" title=\"How to debug rust\">https://syaki.github.io/2019/11/04/How-to-debug-rust/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}